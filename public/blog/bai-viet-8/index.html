<!doctype html><html lang=vi dir=auto data-theme=auto><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Bài 8: Multicast UDP và Java RMI | Nhật Duy Blog</title><meta name=keywords content="Java,Best Practice"><meta name=description content="Giải thích Multicast UDP (gửi 1-n) và Java RMI (gọi phương thức từ xa) – nền tảng cho ứng dụng nhóm và hệ phân tán."><meta name=author content="Nhật Duy"><link rel=canonical href=http://localhost:1313/blog/bai-viet-8/><link crossorigin=anonymous href=/assets/css/stylesheet.d5a652739bf8a5b9ac39fa208725be6e68ffed64ab75efa1cbbf0cbf6bd6e16f.css integrity="sha256-1aZSc5v4pbmsOfoghyW+bmj/7WSrde+hy78Mv2vW4W8=" rel="preload stylesheet" as=style><link rel=icon href=http://localhost:1313/favicon.ico><link rel=icon type=image/png sizes=16x16 href=http://localhost:1313/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=http://localhost:1313/favicon-32x32.png><link rel=apple-touch-icon href=http://localhost:1313/apple-touch-icon.png><link rel=mask-icon href=http://localhost:1313/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=vi href=http://localhost:1313/blog/bai-viet-8/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51);color-scheme:dark}.list{background:var(--theme)}.toc{background:var(--entry)}}@media(prefers-color-scheme:light){.list::-webkit-scrollbar-thumb{border-color:var(--code-bg)}}</style></noscript><script>localStorage.getItem("pref-theme")==="dark"?document.querySelector("html").dataset.theme="dark":localStorage.getItem("pref-theme")==="light"?document.querySelector("html").dataset.theme="light":window.matchMedia("(prefers-color-scheme: dark)").matches?document.querySelector("html").dataset.theme="dark":document.querySelector("html").dataset.theme="light"</script><link rel=stylesheet href=/css/custom.css><meta property="og:url" content="http://localhost:1313/blog/bai-viet-8/"><meta property="og:site_name" content="Nhật Duy Blog"><meta property="og:title" content="Bài 8: Multicast UDP và Java RMI"><meta property="og:description" content="Giải thích Multicast UDP (gửi 1-n) và Java RMI (gọi phương thức từ xa) – nền tảng cho ứng dụng nhóm và hệ phân tán."><meta property="og:locale" content="vi-vn"><meta property="og:type" content="article"><meta property="article:section" content="blog"><meta property="article:published_time" content="2025-12-22T00:00:00+00:00"><meta property="article:modified_time" content="2025-12-22T00:00:00+00:00"><meta property="article:tag" content="Java"><meta property="article:tag" content="Best Practice"><meta name=twitter:card content="summary"><meta name=twitter:title content="Bài 8: Multicast UDP và Java RMI"><meta name=twitter:description content="Giải thích Multicast UDP (gửi 1-n) và Java RMI (gọi phương thức từ xa) – nền tảng cho ứng dụng nhóm và hệ phân tán."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Blogs","item":"http://localhost:1313/blog/"},{"@type":"ListItem","position":2,"name":"Bài 8: Multicast UDP và Java RMI","item":"http://localhost:1313/blog/bai-viet-8/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Bài 8: Multicast UDP và Java RMI","name":"Bài 8: Multicast UDP và Java RMI","description":"Giải thích Multicast UDP (gửi 1-n) và Java RMI (gọi phương thức từ xa) – nền tảng cho ứng dụng nhóm và hệ phân tán.","keywords":["Java","Best Practice"],"articleBody":"Buổi 8 gồm 2 phần lớn:\nMulticast UDP: gửi dữ liệu từ một nguồn đến nhiều máy nhận cùng lúc (1 → N). Java RMI: gọi phương thức từ xa giữa các ứng dụng Java như gọi hàm bình thường (Remote Method Invocation). Đây là các kỹ thuật thường gặp trong streaming, trò chuyện nhóm, giám sát từ xa và hệ thống phân tán.\n1) UDP Multicast Unicast, Broadcast và Multicast Trong mạng máy tính có 3 kiểu gửi dữ liệu phổ biến:\nUnicast: 1 nguồn → 1 đích\nVí dụ: bạn mở một trang web, server trả dữ liệu cho riêng bạn.\nBroadcast: 1 nguồn → tất cả máy trong mạng nội bộ\nVí dụ: một thông báo phát cho toàn bộ LAN.\nMulticast: 1 nguồn → một nhóm máy đã đăng ký nhận dữ liệu\nVí dụ: server phát stream video cho nhóm người xem cùng lúc.\nMulticast là cách truyền hiệu quả khi nhiều máy cùng cần nhận một nội dung giống nhau.\nTại sao dùng UDP Multicast? UDP Multicast thường được dùng vì:\nHiệu suất cao: gửi 1 lần nhưng nhiều máy nhận → giảm tải mạng và server. Đơn giản, nhanh: UDP là kiểu “gửi và quên”, không phải chờ xác nhận. Tối ưu trong LAN: phù hợp môi trường mạng nội bộ (Local Area Network). Rất hợp streaming: audio/video cần tốc độ và độ trễ thấp hơn là đảm bảo tuyệt đối. Ứng dụng của Multicast Multicast có thể dùng trong:\nTruyền phát multimedia trực tiếp (audio/video streaming) Trò chuyện nhóm, hội thoại nhóm Quảng bá thông tin cấu hình mạng và cập nhật trong hệ thống mạng Game nhiều người chơi (gửi trạng thái game cho nhiều người) Phát thông tin trạng thái/cảnh báo cho nhiều thiết bị Phát tán cập nhật phần mềm trong mạng nội bộ Địa chỉ Multicast IPv4 Trong IPv4:\nClass D là dải địa chỉ dành cho multicast Dải địa chỉ multicast thường gặp: 224.0.0.0 – 239.255.255.255 Một số nhóm multicast hay được nhắc:\n224.0.0.1: tất cả host trong local subnet Multicast Group là gì? Multicast hoạt động theo “nhóm”:\nMột multicast group giống như một kênh. Máy nào muốn nhận dữ liệu phải tham gia nhóm (join group). Khi rời nhóm thì không nhận dữ liệu nữa. Multicast trong Java Java hỗ trợ multicast qua lớp:\njava.net.MulticastSocket (kế thừa từ DatagramSocket) Một số thao tác quan trọng:\njoinGroup(...): tham gia nhóm multicast leaveGroup(...): rời nhóm multicast setTimeToLive(ttl): đặt TTL (thời gian sống của gói tin, qua bao nhiêu router) Quy trình gửi dữ liệu Multicast (ý tưởng) Các bước chung:\nTạo MulticastSocket Tham gia nhóm multicast Tạo DatagramPacket chứa dữ liệu + địa chỉ nhóm + port Gửi packet Rời nhóm Ví dụ minh họa (ngắn, chỉ để hiểu):\n1 2 3 4 5 6 7 8 9 10 11 12 InetAddress group = InetAddress.getByName(\"230.0.0.1\"); MulticastSocket socket = new MulticastSocket(); socket.joinGroup(group); socket.setTimeToLive(5); byte[] data = \"Hello Multicast\".getBytes(); DatagramPacket packet = new DatagramPacket(data, data.length, group, 9876); socket.send(packet); socket.leaveGroup(group); socket.close(); Quy trình nhận dữ liệu Multicast (ý tưởng) Các bước chung:\nTạo MulticastSocket lắng nghe trên port Tham gia nhóm multicast Tạo DatagramPacket rỗng để nhận dữ liệu Gọi receive() để chờ gói tin gửi về Đọc dữ liệu từ packet Rời nhóm và đóng socket Ví dụ minh họa (ngắn):\n1 2 3 4 5 6 7 8 9 10 11 12 13 InetAddress group = InetAddress.getByName(\"230.0.0.1\"); MulticastSocket socket = new MulticastSocket(9876); socket.joinGroup(group); byte[] buf = new byte[1024]; DatagramPacket packet = new DatagramPacket(buf, buf.length); socket.receive(packet); String msg = new String(packet.getData(), 0, packet.getLength()); System.out.println(\"Received: \" + msg); socket.leaveGroup(group); socket.close(); 2) Java RMI Java RMI là gì? RMI (Remote Method Invocation) cho phép chương trình Java:\nGọi phương thức của một đối tượng nằm trên máy khác Cảm giác giống như gọi method trong cùng chương trình Nói đơn giản:\nClient gọi: remoteObject.sum(1,2) Server thực thi thật và trả kết quả về cho client RMI giúp che giấu toàn bộ chi tiết mạng phía sau, người lập trình chỉ tập trung vào logic.\nVì sao dùng Java RMI? Java RMI được sử dụng vì:\nTích hợp sẵn trong Java, dễ triển khai nếu cả client và server đều dùng Java Gọi phương thức từ xa đơn giản như gọi hàm thông thường Hỗ trợ dữ liệu phức tạp: đối tượng, mảng, class tự định nghĩa Tự động xử lý giao tiếp mạng thông qua cơ chế stub / skeleton Dựa trên TCP/IP nên tương đối ổn định và tin cậy Hạn chế của Java RMI Một số điểm hạn chế cần lưu ý:\nPhụ thuộc Java: chủ yếu phù hợp Java ↔ Java Thiết kế dịch vụ phức tạp vẫn cần tổ chức tốt (đặc biệt khi dùng callback) Quản lý phiên và kết nối không mạnh như các giải pháp hiện đại Bảo mật cần cấu hình cẩn thận trong môi trường thực tế Ý tưởng kiến trúc RMI (hiểu nhanh) Trong Java RMI có các thành phần chính:\nRemote Interface\nKhai báo các phương thức cho phép gọi từ xa\nServer Implementation\nLớp cài đặt interface, chứa logic xử lý thật\nRMI Registry\nNơi đăng ký service để client tìm thấy server\nClient\nTìm (lookup) service trong registry và gọi phương thức\nCác bước triển khai RMI (tóm tắt) Định nghĩa Remote Interface Cài đặt interface bằng một class server (remote object) Viết chương trình server: tạo object và bind vào registry Viết chương trình client: lookup registry và gọi method Chạy RMI registry, chạy server, sau đó chạy client Ví dụ ứng dụng RMI Một số ví dụ thường gặp:\nTính tổng 2 số từ xa Dịch vụ quản lý tài khoản ATM Dịch vụ giám sát nhiệt độ có callback (server gọi ngược lại client) Bài tập gợi ý theo đúng nội dung buổi 8 BT8.01: Mô phỏng streaming video\n(1 server phát, nhiều client nhận dữ liệu)\nBT8.02: Server quản lý tài khoản ATM bằng RMI\n(thêm user, đăng nhập, gửi/rút tiền, lưu lịch sử giao dịch)\nKết luận Qua bài học này, bạn đã:\nHiểu sự khác nhau giữa Unicast, Broadcast và Multicast Nắm được vì sao Multicast UDP phù hợp cho truyền dữ liệu nhóm và streaming Biết cách Java hỗ trợ multicast qua MulticastSocket Hiểu Java RMI và cơ chế gọi phương thức từ xa Chuẩn bị nền tảng cho các bài ứng dụng mạng phân tán và đồ án học phần ","wordCount":"1070","inLanguage":"vi","datePublished":"2025-12-22T00:00:00Z","dateModified":"2025-12-22T00:00:00Z","author":{"@type":"Person","name":"Nhật Duy"},"mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:1313/blog/bai-viet-8/"},"publisher":{"@type":"Organization","name":"Nhật Duy Blog","logo":{"@type":"ImageObject","url":"http://localhost:1313/favicon.ico"}}}</script></head><body id=top><header class=header><nav class=nav><div class=logo><a href=http://localhost:1313/ accesskey=h title="Nhật Duy Blog (Alt + H)">Nhật Duy Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=http://localhost:1313/ title=Home><span>Home</span></a></li><li><a href=http://localhost:1313/blog/ title=Blog><span>Blog</span></a></li><li><a href=http://localhost:1313/categories/ title="Chuyên mục"><span>Chuyên mục</span></a></li><li><a href=http://localhost:1313/tags/ title=Thẻ><span>Thẻ</span></a></li><li><a href=http://localhost:1313/about/ title="Giới thiệu"><span>Giới thiệu</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=http://localhost:1313/>Trang chủ</a>&nbsp;»&nbsp;<a href=http://localhost:1313/blog/>Blogs</a></div><h1 class="post-title entry-hint-parent">Bài 8: Multicast UDP và Java RMI</h1><div class=post-meta><span title='2025-12-22 00:00:00 +0000 UTC'>22 tháng 12, 2025</span>&nbsp;·&nbsp;<span>6 phút</span>&nbsp;·&nbsp;<span>1070 từ</span>&nbsp;·&nbsp;<span>Nhật Duy</span></div></header><div class=post-content><p>Buổi 8 gồm 2 phần lớn:</p><ol><li><strong>Multicast UDP</strong>: gửi dữ liệu từ <strong>một nguồn</strong> đến <strong>nhiều máy nhận</strong> cùng lúc (1 → N).</li><li><strong>Java RMI</strong>: gọi phương thức từ xa giữa các ứng dụng Java như gọi hàm bình thường (Remote Method Invocation).</li></ol><p>Đây là các kỹ thuật thường gặp trong <strong>streaming</strong>, <strong>trò chuyện nhóm</strong>, <strong>giám sát từ xa</strong> và <strong>hệ thống phân tán</strong>.</p><hr><h2 id=1-udp-multicast>1) UDP Multicast<a hidden class=anchor aria-hidden=true href=#1-udp-multicast>#</a></h2><h3 id=unicast-broadcast-và-multicast>Unicast, Broadcast và Multicast<a hidden class=anchor aria-hidden=true href=#unicast-broadcast-và-multicast>#</a></h3><p>Trong mạng máy tính có 3 kiểu gửi dữ liệu phổ biến:</p><ul><li><p><strong>Unicast</strong>: 1 nguồn → 1 đích<br>Ví dụ: bạn mở một trang web, server trả dữ liệu cho riêng bạn.</p></li><li><p><strong>Broadcast</strong>: 1 nguồn → tất cả máy trong mạng nội bộ<br>Ví dụ: một thông báo phát cho toàn bộ LAN.</p></li><li><p><strong>Multicast</strong>: 1 nguồn → một <strong>nhóm</strong> máy đã đăng ký nhận dữ liệu<br>Ví dụ: server phát stream video cho nhóm người xem cùng lúc.</p></li></ul><p>Multicast là cách truyền hiệu quả khi nhiều máy cùng cần nhận <strong>một nội dung giống nhau</strong>.</p><hr><h3 id=tại-sao-dùng-udp-multicast>Tại sao dùng UDP Multicast?<a hidden class=anchor aria-hidden=true href=#tại-sao-dùng-udp-multicast>#</a></h3><p>UDP Multicast thường được dùng vì:</p><ul><li><strong>Hiệu suất cao</strong>: gửi 1 lần nhưng nhiều máy nhận → giảm tải mạng và server.</li><li><strong>Đơn giản, nhanh</strong>: UDP là kiểu “gửi và quên”, không phải chờ xác nhận.</li><li><strong>Tối ưu trong LAN</strong>: phù hợp môi trường mạng nội bộ (Local Area Network).</li><li><strong>Rất hợp streaming</strong>: audio/video cần tốc độ và độ trễ thấp hơn là đảm bảo tuyệt đối.</li></ul><hr><h3 id=ứng-dụng-của-multicast>Ứng dụng của Multicast<a hidden class=anchor aria-hidden=true href=#ứng-dụng-của-multicast>#</a></h3><p>Multicast có thể dùng trong:</p><ul><li>Truyền phát multimedia trực tiếp (audio/video streaming)</li><li>Trò chuyện nhóm, hội thoại nhóm</li><li>Quảng bá thông tin cấu hình mạng và cập nhật trong hệ thống mạng</li><li>Game nhiều người chơi (gửi trạng thái game cho nhiều người)</li><li>Phát thông tin trạng thái/cảnh báo cho nhiều thiết bị</li><li>Phát tán cập nhật phần mềm trong mạng nội bộ</li></ul><hr><h3 id=địa-chỉ-multicast-ipv4>Địa chỉ Multicast IPv4<a hidden class=anchor aria-hidden=true href=#địa-chỉ-multicast-ipv4>#</a></h3><p>Trong IPv4:</p><ul><li><strong>Class D</strong> là dải địa chỉ dành cho multicast</li><li>Dải địa chỉ multicast thường gặp: <strong>224.0.0.0 – 239.255.255.255</strong></li></ul><p>Một số nhóm multicast hay được nhắc:</p><ul><li><code>224.0.0.1</code>: tất cả host trong local subnet</li></ul><hr><h3 id=multicast-group-là-gì>Multicast Group là gì?<a hidden class=anchor aria-hidden=true href=#multicast-group-là-gì>#</a></h3><p>Multicast hoạt động theo “nhóm”:</p><ul><li>Một <strong>multicast group</strong> giống như một kênh.</li><li>Máy nào muốn nhận dữ liệu phải <strong>tham gia nhóm (join group)</strong>.</li><li>Khi rời nhóm thì <strong>không nhận dữ liệu nữa</strong>.</li></ul><hr><h3 id=multicast-trong-java>Multicast trong Java<a hidden class=anchor aria-hidden=true href=#multicast-trong-java>#</a></h3><p>Java hỗ trợ multicast qua lớp:</p><ul><li><code>java.net.MulticastSocket</code> (kế thừa từ <code>DatagramSocket</code>)</li></ul><p>Một số thao tác quan trọng:</p><ul><li><code>joinGroup(...)</code>: tham gia nhóm multicast</li><li><code>leaveGroup(...)</code>: rời nhóm multicast</li><li><code>setTimeToLive(ttl)</code>: đặt TTL (thời gian sống của gói tin, qua bao nhiêu router)</li></ul><hr><h3 id=quy-trình-gửi-dữ-liệu-multicast-ý-tưởng>Quy trình gửi dữ liệu Multicast (ý tưởng)<a hidden class=anchor aria-hidden=true href=#quy-trình-gửi-dữ-liệu-multicast-ý-tưởng>#</a></h3><p>Các bước chung:</p><ol><li>Tạo <code>MulticastSocket</code></li><li>Tham gia nhóm multicast</li><li>Tạo <code>DatagramPacket</code> chứa dữ liệu + địa chỉ nhóm + port</li><li>Gửi packet</li><li>Rời nhóm</li></ol><p>Ví dụ minh họa (ngắn, chỉ để hiểu):</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>InetAddress group <span style=color:#f92672>=</span> InetAddress.<span style=color:#a6e22e>getByName</span>(<span style=color:#e6db74>&#34;230.0.0.1&#34;</span>);
</span></span><span style=display:flex><span>MulticastSocket socket <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> MulticastSocket();
</span></span><span style=display:flex><span>socket.<span style=color:#a6e22e>joinGroup</span>(group);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>socket.<span style=color:#a6e22e>setTimeToLive</span>(5);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>byte</span><span style=color:#f92672>[]</span> data <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;Hello Multicast&#34;</span>.<span style=color:#a6e22e>getBytes</span>();
</span></span><span style=display:flex><span>DatagramPacket packet <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> DatagramPacket(data, data.<span style=color:#a6e22e>length</span>, group, 9876);
</span></span><span style=display:flex><span>socket.<span style=color:#a6e22e>send</span>(packet);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>socket.<span style=color:#a6e22e>leaveGroup</span>(group);
</span></span><span style=display:flex><span>socket.<span style=color:#a6e22e>close</span>();
</span></span></code></pre></td></tr></table></div></div><h2 id=quy-trình-nhận-dữ-liệu-multicast-ý-tưởng>Quy trình nhận dữ liệu Multicast (ý tưởng)<a hidden class=anchor aria-hidden=true href=#quy-trình-nhận-dữ-liệu-multicast-ý-tưởng>#</a></h2><p>Các bước chung:</p><ol><li>Tạo <code>MulticastSocket</code> lắng nghe trên port</li><li>Tham gia nhóm multicast</li><li>Tạo <code>DatagramPacket</code> rỗng để nhận dữ liệu</li><li>Gọi <code>receive()</code> để chờ gói tin gửi về</li><li>Đọc dữ liệu từ packet</li><li>Rời nhóm và đóng socket</li></ol><p>Ví dụ minh họa (ngắn):</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>InetAddress group <span style=color:#f92672>=</span> InetAddress.<span style=color:#a6e22e>getByName</span>(<span style=color:#e6db74>&#34;230.0.0.1&#34;</span>);
</span></span><span style=display:flex><span>MulticastSocket socket <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> MulticastSocket(9876);
</span></span><span style=display:flex><span>socket.<span style=color:#a6e22e>joinGroup</span>(group);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>byte</span><span style=color:#f92672>[]</span> buf <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#66d9ef>byte</span><span style=color:#f92672>[</span>1024<span style=color:#f92672>]</span>;
</span></span><span style=display:flex><span>DatagramPacket packet <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> DatagramPacket(buf, buf.<span style=color:#a6e22e>length</span>);
</span></span><span style=display:flex><span>socket.<span style=color:#a6e22e>receive</span>(packet);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>String msg <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> String(packet.<span style=color:#a6e22e>getData</span>(), 0, packet.<span style=color:#a6e22e>getLength</span>());
</span></span><span style=display:flex><span>System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(<span style=color:#e6db74>&#34;Received: &#34;</span> <span style=color:#f92672>+</span> msg);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>socket.<span style=color:#a6e22e>leaveGroup</span>(group);
</span></span><span style=display:flex><span>socket.<span style=color:#a6e22e>close</span>();
</span></span></code></pre></td></tr></table></div></div><h2 id=2-java-rmi>2) Java RMI<a hidden class=anchor aria-hidden=true href=#2-java-rmi>#</a></h2><h3 id=java-rmi-là-gì>Java RMI là gì?<a hidden class=anchor aria-hidden=true href=#java-rmi-là-gì>#</a></h3><p><strong>RMI (Remote Method Invocation)</strong> cho phép chương trình Java:</p><ul><li>Gọi phương thức của một đối tượng nằm trên <strong>máy khác</strong></li><li>Cảm giác giống như gọi method trong <strong>cùng chương trình</strong></li></ul><p>Nói đơn giản:</p><ul><li>Client gọi: <code>remoteObject.sum(1,2)</code></li><li>Server thực thi thật và trả kết quả về cho client</li></ul><p>RMI giúp che giấu toàn bộ chi tiết mạng phía sau, người lập trình chỉ tập trung vào logic.</p><hr><h3 id=vì-sao-dùng-java-rmi>Vì sao dùng Java RMI?<a hidden class=anchor aria-hidden=true href=#vì-sao-dùng-java-rmi>#</a></h3><p>Java RMI được sử dụng vì:</p><ul><li><strong>Tích hợp sẵn trong Java</strong>, dễ triển khai nếu cả client và server đều dùng Java</li><li><strong>Gọi phương thức từ xa đơn giản</strong> như gọi hàm thông thường</li><li><strong>Hỗ trợ dữ liệu phức tạp</strong>: đối tượng, mảng, class tự định nghĩa</li><li><strong>Tự động xử lý giao tiếp mạng</strong> thông qua cơ chế stub / skeleton</li><li>Dựa trên <strong>TCP/IP</strong> nên tương đối <strong>ổn định và tin cậy</strong></li></ul><hr><h3 id=hạn-chế-của-java-rmi>Hạn chế của Java RMI<a hidden class=anchor aria-hidden=true href=#hạn-chế-của-java-rmi>#</a></h3><p>Một số điểm hạn chế cần lưu ý:</p><ul><li><strong>Phụ thuộc Java</strong>: chủ yếu phù hợp Java ↔ Java</li><li>Thiết kế dịch vụ phức tạp vẫn cần tổ chức tốt (đặc biệt khi dùng callback)</li><li><strong>Quản lý phiên và kết nối</strong> không mạnh như các giải pháp hiện đại</li><li><strong>Bảo mật</strong> cần cấu hình cẩn thận trong môi trường thực tế</li></ul><hr><h3 id=ý-tưởng-kiến-trúc-rmi-hiểu-nhanh>Ý tưởng kiến trúc RMI (hiểu nhanh)<a hidden class=anchor aria-hidden=true href=#ý-tưởng-kiến-trúc-rmi-hiểu-nhanh>#</a></h3><p>Trong Java RMI có các thành phần chính:</p><ul><li><p><strong>Remote Interface</strong><br>Khai báo các phương thức cho phép gọi từ xa</p></li><li><p><strong>Server Implementation</strong><br>Lớp cài đặt interface, chứa logic xử lý thật</p></li><li><p><strong>RMI Registry</strong><br>Nơi đăng ký service để client tìm thấy server</p></li><li><p><strong>Client</strong><br>Tìm (lookup) service trong registry và gọi phương thức</p></li></ul><hr><h3 id=các-bước-triển-khai-rmi-tóm-tắt>Các bước triển khai RMI (tóm tắt)<a hidden class=anchor aria-hidden=true href=#các-bước-triển-khai-rmi-tóm-tắt>#</a></h3><ol><li>Định nghĩa <strong>Remote Interface</strong></li><li>Cài đặt interface bằng một class server (remote object)</li><li>Viết chương trình <strong>server</strong>: tạo object và bind vào registry</li><li>Viết chương trình <strong>client</strong>: lookup registry và gọi method</li><li>Chạy <strong>RMI registry</strong>, chạy server, sau đó chạy client</li></ol><hr><h3 id=ví-dụ-ứng-dụng-rmi>Ví dụ ứng dụng RMI<a hidden class=anchor aria-hidden=true href=#ví-dụ-ứng-dụng-rmi>#</a></h3><p>Một số ví dụ thường gặp:</p><ul><li>Tính tổng 2 số từ xa</li><li>Dịch vụ quản lý tài khoản ATM</li><li>Dịch vụ giám sát nhiệt độ có <strong>callback</strong> (server gọi ngược lại client)</li></ul><hr><h3 id=bài-tập-gợi-ý-theo-đúng-nội-dung-buổi-8>Bài tập gợi ý theo đúng nội dung buổi 8<a hidden class=anchor aria-hidden=true href=#bài-tập-gợi-ý-theo-đúng-nội-dung-buổi-8>#</a></h3><ul><li><p><strong>BT8.01</strong>: Mô phỏng streaming video<br>(1 server phát, nhiều client nhận dữ liệu)</p></li><li><p><strong>BT8.02</strong>: Server quản lý tài khoản ATM bằng RMI<br>(thêm user, đăng nhập, gửi/rút tiền, lưu lịch sử giao dịch)</p></li></ul><hr><h3 id=kết-luận>Kết luận<a hidden class=anchor aria-hidden=true href=#kết-luận>#</a></h3><p>Qua bài học này, bạn đã:</p><ul><li>Hiểu sự khác nhau giữa <strong>Unicast, Broadcast và Multicast</strong></li><li>Nắm được vì sao <strong>Multicast UDP</strong> phù hợp cho truyền dữ liệu nhóm và streaming</li><li>Biết cách Java hỗ trợ multicast qua <code>MulticastSocket</code></li><li>Hiểu <strong>Java RMI</strong> và cơ chế gọi phương thức từ xa</li><li>Chuẩn bị nền tảng cho các bài <strong>ứng dụng mạng phân tán</strong> và <strong>đồ án học phần</strong></li></ul></div><footer class=post-footer><ul class=post-tags><li><a href=http://localhost:1313/tags/java/>Java</a></li><li><a href=http://localhost:1313/tags/best-practice/>Best Practice</a></li></ul><nav class=paginav><a class=prev href=http://localhost:1313/blog/bai-viet-7/><span class=title>« Trang trước</span><br><span>Bài 7: Lập trình đa tuyến và xử lý đồng thời trong Java</span>
</a><a class=next href=http://localhost:1313/blog/bai-viet-9/><span class=title>Trang tiếp theo »</span><br><span>Bài 9: Tổng hợp kiến thức & thiết kế ứng dụng mạng</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2025 <a href=http://localhost:1313/>Nhật Duy Blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");if(menu){const e=localStorage.getItem("menu-scroll-position");e&&(menu.scrollLeft=parseInt(e,10)),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}}document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{const e=document.querySelector("html");e.dataset.theme==="dark"?(e.dataset.theme="light",localStorage.setItem("pref-theme","light")):(e.dataset.theme="dark",localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="Sao chép";function s(){t.innerHTML="Đã sao chép!",setTimeout(()=>{t.innerHTML="Sao chép"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>